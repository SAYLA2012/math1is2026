<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App Jadual Cikgu Suhaila</title>
    
    <meta name="theme-color" content="#2563eb">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/2693/2693507.png">
    
    <link rel="manifest" href='data:application/json,{"name":"Jadual Cikgu Suhaila","short_name":"Jadual","start_url":".","display":"standalone","background_color":"#ffffff","theme_color":"#2563eb","icons":[{"src":"https://cdn-icons-png.flaticon.com/512/2693/2693507.png","sizes":"512x512","type":"image/png"}]}'>

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .subject-bm { background-color: #dcfce7; color: #166534; border-left: 5px solid #22c55e; }
        .subject-mm { background-color: #f3e8ff; color: #6b21a8; border-left: 5px solid #a855f7; }
        .subject-rbt { background-color: #ffedd5; color: #9a3412; border-left: 5px solid #f97316; }
        .subject-rehat { background-color: #fee2e2; color: #991b1b; font-weight: bold; }
        .day-btn { transition: all 0.3s; cursor: pointer; }
        .active-day { background-color: #2563eb !important; color: white; transform: scale(1.05); }
        /* Hide scrollbar for clean look */
        body::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen font-sans">

    <div class="max-w-md mx-auto bg-white min-h-screen shadow-lg flex flex-col">
        <div class="bg-blue-600 p-6 text-white rounded-b-3xl shadow-lg">
            <h1 class="text-xl font-bold">Cikgu Suhaila Mohd Ghazali</h1>
            <p class="text-blue-100 text-sm italic">Sesi PdP 2026</p>
        </div>

        <div class="flex justify-around p-4 mt-2 bg-white sticky top-0 z-10">
            <button onclick="showDay('Isnin')" id="btn-Isnin" class="day-btn bg-white px-3 py-2 rounded-xl shadow-sm text-sm border">Isn</button>
            <button onclick="showDay('Selasa')" id="btn-Selasa" class="day-btn bg-white px-3 py-2 rounded-xl shadow-sm text-sm border">Sel</button>
            <button onclick="showDay('Rabu')" id="btn-Rabu" class="day-btn bg-white px-3 py-2 rounded-xl shadow-sm text-sm border">Rab</button>
            <button onclick="showDay('Khamis')" id="btn-Khamis" class="day-btn bg-white px-3 py-2 rounded-xl shadow-sm text-sm border">Kha</button>
            <button onclick="showDay('Jumaat')" id="btn-Jumaat" class="day-btn bg-white px-3 py-2 rounded-xl shadow-sm text-sm border font-bold text-blue-600">Jum</button>
        </div>

        <div class="p-4 flex-grow" id="schedule-container">
            <h2 id="current-day-label" class="text-lg font-bold mb-4 text-gray-700 uppercase tracking-wide">Sila Pilih Hari</h2>
            <div id="cards-list" class="space-y-3">
                </div>
        </div>

        <div id="install-area" class="p-4 hidden">
            <button id="install-button" class="w-full bg-green-600 text-white py-3 rounded-2xl font-bold shadow-lg">
                ➕ Pasang App Jadual
            </button>
        </div>

        <div class="p-6">
            <div class="bg-gray-50 rounded-2xl p-4 border border-dashed border-gray-300">
                <p class="text-xs text-gray-500 uppercase tracking-wider">Ringkasan Tugasan</p>
                <div class="flex justify-between mt-2 text-sm font-semibold text-gray-700">
                    <span>BM: 15 Slot</span>
                    <span>MM: 4 Slot</span>
                    <span>RBT: 1 Slot</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DATA JADUAL
        const schedules = {
            'Isnin': [
                {m: '1.00 - 2.15', s: 'BM 2AI', c: 'subject-bm'},
                {m: '2.15 - 2.40', s: 'MM 1IS', c: 'subject-mm'},
                {m: '2.40 - 3.00', s: 'REHAT / ZOHOR', c: 'subject-rehat'},
                {m: '3.00 - 3.50', s: 'BM 2AD', c: 'subject-bm'},
                {m: '3.50 - 4.15', s: 'BM 2AG', c: 'subject-bm'},
                {m: '5.05 - 5.30', s: 'PERHIMPUNAN', c: 'subject-rehat'}
            ],
            'Selasa': [
                {m: '1.00 - 2.15', s: 'ASK 2IB', c: 'subject-rbt'},
                {m: '2.40 - 3.00', s: 'REHAT / ZOHOR', c: 'subject-rehat'},
                {m: '3.00 - 3.25', s: 'BM 2AG', c: 'subject-bm'},
                {m: '3.25 - 4.15', s: 'MM 1IS', c: 'subject-mm'},
                {m: '4.40 - 5.05', s: 'BM 2AD', c: 'subject-bm'},
                {m: '5.05 - 5.30', s: 'BM 2AI', c: 'subject-bm'}
            ],
            'Rabu': [
                {m: '1.00 - 1.50', s: 'BM 2AI', c: 'subject-bm'},
                {m: '2.40 - 3.00', s: 'REHAT / ZOHOR', c: 'subject-rehat'},
                {m: '3.00 - 3.50', s: 'BM 2AG', c: 'subject-bm'},
                {m: '4.15 - 4.40', s: 'BM 2AD', c: 'subject-bm'}
            ],
            'Khamis': [
                {m: '1.00 - 1.50', s: 'MM 1IS', c: 'subject-mm'},
                {m: '2.40 - 3.00', s: 'REHAT / ZOHOR', c: 'subject-rehat'},
                {m: '3.00 - 3.25', s: 'BM 2AD', c: 'subject-bm'},
                {m: '4.15 - 4.40', s: 'BM 2AI', c: 'subject-bm'},
                {m: '4.40 - 5.30', s: 'BM 2AG', c: 'subject-bm'}
            ],
            'Jumaat': [
                {m: '2.40 - 3.05', s: 'MM 1IS', c: 'subject-mm'},
                {m: '3.05 - 3.30', s: 'BM 2AG', c: 'subject-bm'},
                {m: '3.30 - 3.45', s: 'REHAT JUMAAT', c: 'subject-rehat'},
                {m: '4.10 - 4.30', s: 'BM 2AI', c: 'subject-bm'},
                {m: '4.30 - 4.50', s: 'BM 2AD', c: 'subject-bm'},
                {m: '4.50 - 5.05', s: 'BM 2AD', c: 'subject-bm'}
            ]
        };

        function showDay(day) {
            document.getElementById('current-day-label').innerText = 'Jadual ' + day;
            document.querySelectorAll('.day-btn').forEach(btn => btn.classList.remove('active-day'));
            document.getElementById('btn-' + day).classList.add('active-day');

            const list = document.getElementById('cards-list');
            list.innerHTML = '';
            
            schedules[day].forEach(item => {
                const card = `
                    <div class="p-4 rounded-2xl shadow-sm border flex justify-between items-center bg-white ${item.c}">
                        <div>
                            <p class="text-xs opacity-70 font-bold">${item.m}</p>
                            <p class="text-lg font-bold">${item.s}</p>
                        </div>
                        <div class="h-8 w-8 rounded-full bg-white bg-opacity-50 flex items-center justify-center shadow-inner text-xs">✔️</div>
                    </div>
                `;
                list.innerHTML += card;
            });
        }

        // Logic for Installability
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            document.getElementById('install-area').classList.remove('hidden');
        });

        document.getElementById('install-button').addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                if (outcome === 'accepted') {
                    document.getElementById('install-area').classList.add('hidden');
                }
                deferredPrompt = null;
            }
        });

        // Register a dummy service worker to satisfy PWA requirements
        if ('serviceWorker' in navigator) {
            const swCode = `self.addEventListener('fetch', function(event) {});`;
            const blob = new Blob([swCode], {type: 'text/javascript'});
            const swUrl = URL.createObjectURL(blob);
            navigator.serviceWorker.register(swUrl);
        }

        showDay('Isnin');
    </script>
</body>
</html>